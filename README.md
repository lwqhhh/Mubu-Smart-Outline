# Mubu-Smart-Outline

一款专为在线大纲笔记工具 幕布 (Mubu.com) 开发的浏览器增强脚本（UserScript）。

本工具的设计初衷是解决幕布在超长文档模式下因内容爆炸、层级过深而导致的索引与定位困难。针对“虚拟滚动”技术造成的目录加载不全、跳转失效以及原生导航匮乏等痛点，它通过全量大纲提取、驱动页面定位、灵活布局切换等核心功能，显著提升了海量笔记内容的查阅速度与复习效率。

## **🚀 核心功能**

### **1\. 突破滚动限制**

* **自动识别与精准定位**：通过监测页面元素并结合自动驱动滚动技术，即使目标标题处于未渲染的屏幕区域，也能引导页面滑动直至准确捕获并定位目标。  
* **路由状态监听**：适配单页应用（SPA）特性，在切换不同文档时自动清空旧数据，确保大纲内容始终与当前页面匹配，防止重叠。

### **2\. 高效加载与导航**

* **双向全量加载**：具备 **⬇️ 一键到底** 和 **⬆️ 一键回顶** 功能。点击后自动遍历文档以生成完整大纲，无需手动翻页。  
* **静默极速模式**：加载过程无确认弹窗，点击即运行，再次点击即停止，确保护理流畅的交互体验。

### **3\. 灵活布局系统**

* **自由悬浮**：目录窗口支持任意拖拽，内置**电子围栏**与**自动救援**机制，确保窗口始终处于可见区域，防止因误操作丢失。  
* **磁吸停靠**：支持将窗口拖至屏幕左/右边缘自动吸附并转为侧边栏模式。侧边栏会智能挤压页面布局，不遮挡笔记正文。  
* **灵动收纳**：支持最小化为可随处拖动的圆形悬浮球，节省屏幕空间。  
* **自动归位**：刷新页面后，所有组件位置将重置为初始默认状态，保持界面整洁。

### **4\. 智能视觉体验**

* **多主题模式**：内置 **自动跟随 / 强制日间 / 强制夜间** 三种显示模式。  
* **护眼配色**：深度适配幕布原生视觉风格。在夜间模式下使用深色皮肤与柔和文字，减轻长时间阅读的视觉负担。

### **5\. 增量内容采集**

* **动态更新机制**：采用增量采集方式，随着用户的阅读与页面滚动，自动捕获并按顺序补充新发现的标题内容。

## **🛠️ 使用方法**

1. 安装 [**Tampermonkey (篡改猴)**](https://microsoftedge.microsoft.com/addons/detail/%E7%AF%A1%E6%94%B9%E7%8C%B4/iikmkjmpaadaobahmlepeloendndfphd) 浏览器扩展。  
2. 上方找到 OutlineScript.user.js并进入。  
3. 点击 **RAW** 进行安装并启用。  
4. 打开幕布文档页面，插件将自动运行。

## **📑 界面图标说明**

| 图标 | 功能名称 | 说明 |
| :---- | :---- | :---- |
| 🌓 | **切换主题** | 循环切换：自动跟随系统 \-\> 强制日间 \-\> 强制夜间 |
| ⬆️ | **回到顶部** | 一键瞬间回到文档最上方 |
| ⬇️ | **滚动到底部** | 自动向下滚动以加载文档内容。点击开始，再次点击停止。 |
| ✥ | **归位/重置** | 将目录窗口重置回初始的右上角悬浮状态 |
| ➖ | **最小化** | 收起为右下角圆形悬浮球（支持拖拽移动） |
| 🗑️ | **清空** | 直接清空当前已捕获的大纲数据 |

## **📜 版本更新日志 (Changelog)**

### **v1.0.0 (2026-01-27) \- 初始发布**

**🎉 幕布智能大纲助手正式版发布！**

* **架构与核心逻辑**  
  * 建立内容自动监测与驱动机制，解决因虚拟滚动导致的标题抓取不全与跳转定位失效问题。  
  * 具备全地形驱动能力，兼容窗口及各种内部滚动容器。  
* **导航与数据管理**  
  * 支持双向自动滚动加载（一键到底/一键回顶），具备操作中断机制。  
  * 开启静默操作模式，提升运行效率。  
  * 建立路由监听系统，在切换文档时自动重置大纲。  
* **布局与交互设计**  
  * 提供自由悬浮模式，支持窗口拖拽及边界防丢保护。  
  * 建立磁吸吸附逻辑，支持左/右侧边栏嵌入。  
  * 提供灵动收纳球，支持最小化状态下的自由移动。  
* **视觉与体验优化**  
  * 提供光影主题模式，支持自动跟随环境背景或手动强制切换。  
  * 优化内容采集逻辑，确保目录内容随阅读进度稳定补充。

**开发者寄语**：

愿这个工具能陪伴你在知识的海洋中高效航行，无论是复杂的数学公式还是海量的面试题库，都能一览无余，触手可及。
